
# Ссылочная авторизация

## Зачем нужна ссылочная авторизация?
Ссылочная авторизация помогает в организации бесшовного перехода из мобильных приложений Тинькофф банка (Например: [Долями](https://dolyame.ru/) или раздела Target) в свое приложение с сохранением авторизации.

Для начала работы необходимо иметь интеграцию Tinkoff ID в своем приложении или веб-сайте:[Как подключить Tinkoff ID?](https://tinkoff.github.io/tinkoff-id/join/)  

## Интеграция для веб-сайта

Приложение Tinkoff создает ссылку на вас содержащую параметр tid_link_token. 
```javascript
 https://partner?tid_link_token=xxxx
 
```

Вам необходимо проверять входящие ссылки на наличие данного параметра и в случае его нахождения запускать автоматически сценарий авторизации через tinkoff id по ссылке.
Для этого нужно в запросе /authorize к SSO передать полученный ссылочный токен в query параметре auth_token.

```javascript
https://id.tinkoff.ru/auth/authorize?client_id=&redirect_uri=&state=123abc&response_type=code&auth_token= 
```

После чего пользователю не потребуется ввод одноразового кода с телефона, а только лишь подтверждение скопов данных (в первый раз – далее нет).



## Интеграция для приложения

Приложение Tinkoff создает applink на вас содержащий параметр tid_link_token. 
```javascript
 appname://partner?tid_link_token
```

Вам необходимо проверять входящие ссылки на наличие данного параметра и в случае его нахождения запускать автоматически сценарий авторизации через tinkoff id инициализируя [SDK](https://tinkoff.github.io/tinkoff-id/mobile/) 

После чего пользователя направит для аутентификации обратно в наше мобильное приложение и предложит согласится со скопами передаваемых данных (при первичной авторизации).